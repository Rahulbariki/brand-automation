# Deployment Guide

This project is designed to be deployed as two separate services:
1. **Backend**: Python FastAPI application deployed on Render.
2. **Frontend**: Static HTML/JS application deployed on Vercel.

---

## üèóÔ∏è Backend Deployment (Render)

The backend is containerized using Docker.

1. **Push your code to GitHub/GitLab**.
2. **Create a New Web Service on Render**:
   - **Root Directory**: `.` (Root) or `backend` if you want to be specific, but for Docker it usually uses the root context.
   - The `render.yaml` sets the build context to `.` so keep Root Directory as repo root.

3. **Database Setup**:
   - The `render.yaml` includes a PostgreSQL database definition (`bizforge-db`).
   - Render will automatically create this database and provide a `DATABASE_URL` environment variable to your web service.

4. **Environment Variables**:
   The following variables are defined in `render.yaml` or need to be set in the Render Dashboard:

   | Variable | Description |
   | :--- | :--- |
   | `DATABASE_URL` | Auto-set by Render (Internal Connection String). |
   | `SECRET_KEY` | Auto-generated by Render. |
   | `GROQ_API_KEY` | **Required**. Get this from [Groq Console](https://console.groq.com/). |
   | `IBM_MODEL` | Defaults to `ibm-granite/granite-3.0-2b-instruct`. |
   | `STRIPE_SECRET_KEY` | **Optional**. For payments. |
   | `STRIPE_WEBHOOK_SECRET` | **Optional**. For payments. |
   | `GOOGLE_CLIENT_ID` | **Optional**. For Google Auth. |

5. **Deploy**:
   - Click "Create Web Service".
   - Wait for the build to finish.
   - Once deployed, copy your **Backend URL** (e.g., `https://bizforge-api.onrender.com`).

---

## üé® Frontend Deployment (Vercel)

The frontend is a static site.

1. **Import your repository to Vercel**.
2. **Project Configuration**:
   - **Framework Preset**: Other (or None).
   - **Root Directory**: `frontend` (Click "Edit" next to Root Directory and select the `frontend` folder).
   - **Build Command**: None.
   - **Output Directory**: Leave default (it will serve the root of `frontend`).

3. **üì¢ CRITICAL STEP: Update API URL**:
   - Open `frontend/assets/js/api.js`.
   - Find the line:
     ```javascript
     const API_BASE_URL = IS_LOCAL
         ? "http://localhost:8000/api"
         : "https://bizforge-api.onrender.com/api"; // UPDATE THIS!
     ```
   - Replace `https://bizforge-api.onrender.com` with your **actual Backend URL** from Render.
   - Commit and push this change *before* deploying the frontend, or trigger a redeploy.

4. **Deploy**:
   - Click "Deploy".
   - Your site will be live!

---

## üîÑ Verification

1. Open your Vercel URL.
2. Open the Browser Console (F12).
3. Try to Log In or Sign Up.
4. Check the Network tab to ensure requests are hitting your Render Backend URL (not localhost or the placeholder).
