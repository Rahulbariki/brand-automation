<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>BrandNova Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/auth.js"></script>
    <style>
        /* Custom Scrollbar for Glass Effect */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        @keyframes fadeInMain {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.9);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes slideInSidebar {
            from {
                transform: translateX(-100%);
            }

            to {
                transform: translateX(0);
            }
        }

        .animate-fadeIn {
            animation: fadeInMain 1s forwards;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes toastFadeOut {
            from {
                opacity: 1;
            }

            to {
                opacity: 0;
            }
        }

        .toast-enter {
            animation: slideInRight 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        .toast-exit {
            animation: toastFadeOut 0.3s ease forwards;
        }

        .sidebar-animate {
            animation: slideInSidebar 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
        }

        .kpi-animate {
            animation: scaleIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
        }

        .main-animate {
            animation: fadeInMain 0.7s ease both;
        }

        .auth-skeleton {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 9999;
            background: #0f172a;
            display: flex;
            color: white;
            font-family: sans-serif;
            transition: opacity 0.5s;
        }

        .skeleton-sidebar {
            width: 256px;
            background: rgba(255, 255, 255, 0.02);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
            padding: 1.5rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .skeleton-item {
            height: 48px;
            background: rgba(255, 255, 255, 0.04);
            border-radius: 8px;
            animation: pulse 1.5s infinite ease-in-out;
        }

        .skeleton-main {
            flex: 1;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .skeleton-header {
            height: 60px;
            width: 40%;
            background: rgba(255, 255, 255, 0.04);
            border-radius: 8px;
            animation: pulse 1.5s infinite ease-in-out;
        }

        .skeleton-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
        }

        .skeleton-card {
            height: 128px;
            background: rgba(255, 255, 255, 0.04);
            border-radius: 12px;
            animation: pulse 1.5s infinite ease-in-out;
        }

        .skeleton-charts {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            flex: 1;
        }

        .skeleton-chart {
            background: rgba(255, 255, 255, 0.04);
            border-radius: 12px;
            animation: pulse 1.5s infinite ease-in-out;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: .5;
            }
        }
    </style>
</head>

<body
    class="bg-gradient-to-br from-[#0f172a] to-[#1e293b] text-white min-h-screen font-sans selection:bg-purple-500 selection:text-white">

    <div class="flex h-screen overflow-hidden">

        <!-- Sidebar -->
        <aside id="sidebar"
            class="w-64 bg-white/5 backdrop-blur-xl border-r border-white/10 flex flex-col justify-between transition-all duration-300 hover:w-72">
            <div>
                <div class="p-6">
                    <h1
                        class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-600 whitespace-nowrap">
                        BrandNova</h1>
                    <p class="text-xs text-gray-500 mt-1 uppercase tracking-widest whitespace-nowrap">Admin Console</p>
                </div>

                <nav class="px-4 space-y-2 mt-4">
                    <button onclick="loadDashboard()" id="nav-dashboard"
                        class="w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-purple-400 transition flex items-center group whitespace-nowrap">
                        <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-purple-400 flex-shrink-0" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z">
                            </path>
                        </svg>
                        Dashboard
                    </button>
                    <button onclick="loadUsers()" id="nav-users"
                        class="w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-purple-400 transition flex items-center group whitespace-nowrap">
                        <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-purple-400 flex-shrink-0" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z">
                            </path>
                        </svg>
                        Users
                    </button>
                    <button onclick="loadUsage()" id="nav-usage"
                        class="w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-purple-400 transition flex items-center group whitespace-nowrap">
                        <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-purple-400 flex-shrink-0" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                            </path>
                        </svg>
                        Usage Logs
                    </button>
                    <button onclick="loadContent()" id="nav-content"
                        class="w-full text-left px-4 py-3 rounded-lg hover:bg-white/5 hover:text-purple-400 transition flex items-center group whitespace-nowrap">
                        <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-purple-400 flex-shrink-0" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                            </path>
                        </svg>
                        Content
                    </button>
                </nav>
            </div>

            <div class="p-6 border-t border-white/10">
                <a href="dashboard.html"
                    class="block w-full text-center py-2 px-4 rounded-lg bg-white/5 hover:bg-white/10 text-sm text-gray-400 hover:text-white transition whitespace-nowrap">Exit
                    to App</a>
            </div>
        </aside>

        <!-- Main -->
        <main class="flex-1 p-10 overflow-y-auto">

            <header class="flex justify-between items-center mb-8">
                <div>
                    <h2 id="page-title" class="text-3xl font-bold tracking-tight">Dashboard Overview</h2>
                    <p id="page-subtitle" class="text-gray-400 mt-1">Real-time metrics and system health.</p>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- Timeframe Toggle -->
                    <div class="bg-gray-800 rounded-lg p-1 flex shadow-sm border border-gray-700" id="timeframe-toggle"
                        style="display: none;">
                        <button onclick="switchTimeframe('hourly')" id="btn-hourly"
                            class="px-3 py-1 text-xs font-medium rounded-md bg-purple-500 text-white shadow transition">24h
                            View</button>
                        <button onclick="switchTimeframe('daily')" id="btn-daily"
                            class="px-3 py-1 text-xs font-medium rounded-md text-gray-400 hover:text-white transition">30d
                            View</button>
                    </div>

                    <span
                        class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-500/10 text-green-400 border border-green-500/20">
                        <span class="w-2 h-2 mr-2 bg-green-500 rounded-full animate-pulse"></span>
                        System Operational
                    </span>
                </div>
            </header>

            <!-- KPI Cards (Dashboard Only) -->
            <div id="kpi-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
                <!-- Loading Skeletons -->
                <div
                    class="bg-white/5 backdrop-blur-xl p-6 rounded-xl border border-white/10 shadow-lg shadow-purple-500/10 animate-pulse h-32">
                </div>
                <div
                    class="bg-white/5 backdrop-blur-xl p-6 rounded-xl border border-white/10 shadow-lg shadow-purple-500/10 animate-pulse h-32">
                </div>
                <div
                    class="bg-white/5 backdrop-blur-xl p-6 rounded-xl border border-white/10 shadow-lg shadow-purple-500/10 animate-pulse h-32">
                </div>
                <div
                    class="bg-white/5 backdrop-blur-xl p-6 rounded-xl border border-white/10 shadow-lg shadow-purple-500/10 animate-pulse h-32">
                </div>
            </div>

            <!-- Charts Area (Dashboard Only) -->
            <div id="charts-grid" class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-10">
                <div
                    class="bg-white/5 backdrop-blur-xl p-6 rounded-xl border border-white/10 shadow-lg shadow-purple-500/10 hover:shadow-purple-500/20 transition duration-300">
                    <h3 class="text-lg font-semibold mb-6 text-gray-200">Token Usage Trend</h3>
                    <canvas id="usageChart"></canvas>
                </div>

                <div
                    class="bg-white/5 backdrop-blur-xl p-6 rounded-xl border border-white/10 shadow-lg shadow-purple-500/10 hover:shadow-purple-500/20 transition duration-300">
                    <h3 class="text-lg font-semibold mb-6 text-gray-200">User Growth</h3>
                    <canvas id="usersChart"></canvas>
                </div>
            </div>

            <!-- Dynamic Content Area (Tables etc) -->
            <div id="contentArea"
                class="bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden min-h-[400px]">
                <!-- Content injects here -->
            </div>

        </main>
    </div>

    <script src="assets/js/admin.js"></script>

    <div id="authLoader" class="auth-skeleton">
        <div class="skeleton-sidebar">
            <div class="skeleton-item" style="height: 32px; width: 60%; margin-bottom: 2rem;"></div>
            <div class="skeleton-item"></div>
            <div class="skeleton-item"></div>
            <div class="skeleton-item"></div>
            <div class="skeleton-item"></div>
            <div class="skeleton-item" style="margin-top: auto;"></div>
        </div>
        <div class="skeleton-main">
            <div class="skeleton-header"></div>
            <div class="skeleton-cards">
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
            </div>
            <div class="skeleton-charts">
                <div class="skeleton-chart"></div>
                <div class="skeleton-chart"></div>
            </div>
        </div>
    </div>

    <!-- Global Toast Container -->
    <div id="toast-container" class="fixed bottom-5 right-5 z-[9999] flex flex-col gap-3 pointer-events-none"></div>

</body>

</html>